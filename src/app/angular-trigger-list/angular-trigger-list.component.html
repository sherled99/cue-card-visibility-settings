<div class="filter-panel">
  <!-- Agent Filter -->
  <div class="filter-group">
    <div class="filter-label">
      <span class="filter-icon">üë§</span>
      <span class="filter-title">Agent</span>
      <span *ngIf="isLoadingAgents" class="loading-indicator">‚ü≥</span>
    </div>
    <div class="filter-tags">
      <div *ngFor="let filter of selectedAgents; let i = index" class="filter-tag">
        {{ filter.displayName }}
        <button class="tag-remove" (click)="removeFilter(selectedFilters.indexOf(filter))">√ó</button>
      </div>
      <select 
        class="filter-select" 
        [(ngModel)]="selectedAgentId"
        (change)="onAgentSelect()"
        [disabled]="isLoadingAgents"
      >
        <option value="">{{ isLoadingAgents ? 'Loading...' : 'Select agent...' }}</option>
        <option *ngFor="let agent of availableAgents" [value]="agent.id">
          {{ agent.name }}
        </option>
      </select>
    </div>
    <button class="clear-filter" (click)="clearAgentFilters()">√ó</button>
  </div>

  <!-- Queue Filter -->
  <div class="filter-group">
    <div class="filter-label">
      <span class="filter-icon">üéß</span>
      <span class="filter-title">Queue</span>
      <span *ngIf="isLoadingQueues" class="loading-indicator">‚ü≥</span>
    </div>
    <div class="filter-tags">
      <div *ngFor="let filter of selectedQueues; let i = index" class="filter-tag">
        {{ filter.displayName }}
        <button class="tag-remove" (click)="removeFilter(selectedFilters.indexOf(filter))">√ó</button>
      </div>
      <select 
        class="filter-select" 
        [(ngModel)]="selectedQueueId"
        (change)="onQueueSelect()"
        [disabled]="isLoadingQueues"
      >
        <option value="">{{ isLoadingQueues ? 'Loading...' : 'Select queue...' }}</option>
        <option *ngFor="let queue of availableQueues" [value]="queue.id">
          {{ queue.name }}
        </option>
      </select>
    </div>
    <button class="clear-filter" (click)="clearQueueFilters()">√ó</button>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    <span class="error-icon">‚ö†Ô∏è</span>
    {{ errorMessage }}
    <button class="retry-button" (click)="loadAgents(); loadQueues()">Retry</button>
  </div>
</div>